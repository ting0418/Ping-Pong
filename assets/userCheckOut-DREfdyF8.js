import{_ as y,a as u,c as l,d as t,n as c,F as h,r as m,t as o,h as a,k as p,o as n}from"./index-DGr2lNFu.js";const g={data(){return{orderList:{user:{},products:[]},orderId:""}},methods:{getOrder(){const d=`https://vue3-course-api.hexschool.io/api/tingg-api/order/${this.orderId}`;u.get(d).then(s=>{console.log(s),s.data.success&&(this.orderList=s.data.order),console.log(this.orderList)})},payOrder(){const d=`https://vue3-course-api.hexschool.io/api/tingg-api/pay/${this.orderId}`;u.post(d).then(s=>{console.log(s),s.data.success&&this.getOrder()})},goProduct(){this.$router.push("/user/product")}},created(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrder()}},_={class:"container"},f={class:"row my-5 justify-content-center"},x={class:"col-md-9"},L={class:"container mb-3"},b={class:"row justify-content-between"},v={class:"col-md-6"},k={class:"table align-middle"},I={class:"text-end"},O={class:"text-end"},j={class:"table"},w={key:0},C={key:1,class:"text-success"},B={class:"text-end"};function P(d,s,E,F,e,i){return n(),l("div",_,[t("div",f,[t("div",x,[t("div",L,[t("div",b,[s[2]||(s[2]=t("div",{class:"col-md-3 justify-content-center alert-secondary rounded-pill text-center d-flex justify-content-center align-items-center py-2 my-2"}," 1.填寫訂購資料 ",-1)),t("div",{class:c(["col-md-3 rounded-pill d-flex justify-content-center align-items-center text-center py-2 my-2",e.orderList.is_paid===!1?"alert-success":"alert-secondary"])}," 2.金流付款 ",2),t("div",{class:c(["col-md-3 rounded-pill d-flex justify-content-center align-items-center text-center py-2 my-2",e.orderList.is_paid?"alert-success":"alert-secondary"])}," 3.訂單完成 ",2)])])]),t("form",v,[t("table",k,[s[4]||(s[4]=t("thead",null,[t("th",null,"品名"),t("th",null,"數量"),t("th",null,"價格")],-1)),t("tbody",null,[(n(!0),l(h,null,m(e.orderList.products,r=>(n(),l("tr",{key:r.id},[t("td",null,o(r.product.title),1),t("td",null,o(r.qty)+"/ "+o(r.product.unit),1),t("td",I,o(r.final_total)+"元",1)]))),128))]),t("tfoot",null,[t("tr",null,[s[3]||(s[3]=t("td",{colspan:"2",class:"text-end"},"總計",-1)),t("td",O,o(e.orderList.total)+"元",1)])])]),t("table",j,[t("tbody",null,[t("tr",null,[s[5]||(s[5]=t("th",{width:"100"},"Email",-1)),t("td",null,o(e.orderList.user.email),1)]),t("tr",null,[s[6]||(s[6]=t("th",null,"姓名",-1)),t("td",null,o(e.orderList.user.name),1)]),t("tr",null,[s[7]||(s[7]=t("th",null,"收件人電話",-1)),t("td",null,o(e.orderList.user.tel),1)]),t("tr",null,[s[8]||(s[8]=t("th",null,"收件人地址",-1)),t("td",null,o(e.orderList.user.address),1)]),t("tr",null,[s[9]||(s[9]=t("th",null,"付款狀態",-1)),t("td",null,[e.orderList.is_paid?(n(),l("span",C,"付款完成")):(n(),l("span",w,"尚未付款"))])])])]),t("div",B,[e.orderList.is_paid?p("",!0):(n(),l("button",{key:0,class:"btn btn-danger",onClick:s[0]||(s[0]=a((...r)=>i.payOrder&&i.payOrder(...r),["prevent"]))}," 確認付款去 ")),e.orderList.is_paid?(n(),l("button",{key:1,class:"btn btn-danger",onClick:s[1]||(s[1]=a((...r)=>i.goProduct&&i.goProduct(...r),["prevent"]))}," 再看看其他東西! ")):p("",!0)])])])])}const V=y(g,[["render",P],["__scopeId","data-v-8334a235"]]);export{V as default};
