import{_ as y,b as u,c as n,e as t,n as c,F as f,r as h,t as o,i as a,l as p,o as l}from"./index-BwxbVr64.js";const m={data(){return{orderList:{user:{},products:[]},orderId:""}},methods:{getOrder(){const d=`https://vue3-course-api.hexschool.io/api/tingg-api/order/${this.orderId}`;u.get(d).then(e=>{e.data.success&&(this.orderList=e.data.order)})},payOrder(){const d=`https://vue3-course-api.hexschool.io/api/tingg-api/pay/${this.orderId}`;u.post(d).then(e=>{console.log(e),e.data.success&&this.getOrder()})},goProduct(){this.$router.push("/user/product")}},created(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrder()}},g={class:"container"},_={class:"row my-5 justify-content-center"},x={class:"col-md-9"},b={class:"container mb-3"},v={class:"row justify-content-between"},L={class:"col-md-6"},k={class:"table align-middle"},I={class:"text-end"},O={class:"text-end"},j={class:"table"},w={key:0},C={key:1,class:"text-success"},B={class:"text-end"};function P(d,e,E,F,s,i){return l(),n("div",g,[t("div",_,[t("div",x,[t("div",b,[t("div",v,[e[2]||(e[2]=t("div",{class:"col-md-3 justify-content-center alert-secondary rounded-pill text-center d-flex justify-content-center align-items-center py-2 my-2"}," 1.填寫訂購資料 ",-1)),t("div",{class:c(["col-md-3 rounded-pill d-flex justify-content-center align-items-center text-center py-2 my-2",s.orderList.is_paid===!1?"alert-success":"alert-secondary"])}," 2.金流付款 ",2),t("div",{class:c(["col-md-3 rounded-pill d-flex justify-content-center align-items-center text-center py-2 my-2",s.orderList.is_paid?"alert-success":"alert-secondary"])}," 3.訂單完成 ",2)])])]),t("form",L,[t("table",k,[e[4]||(e[4]=t("thead",null,[t("th",null,"品名"),t("th",null,"數量"),t("th",{class:"text-end"},"價格")],-1)),t("tbody",null,[(l(!0),n(f,null,h(s.orderList.products,r=>(l(),n("tr",{key:r.id},[t("td",null,o(r.product.title),1),t("td",null,o(r.qty)+"/ "+o(r.product.unit),1),t("td",I,o(d.$filters.currency(r.final_total))+"元 ",1)]))),128))]),t("tfoot",null,[t("tr",null,[e[3]||(e[3]=t("td",{colspan:"2",class:"text-end"},"總計",-1)),t("td",O,o(d.$filters.currency(s.orderList.total))+"元 ",1)])])]),t("table",j,[t("tbody",null,[t("tr",null,[e[5]||(e[5]=t("th",{width:"100"},"Email",-1)),t("td",null,o(s.orderList.user.email),1)]),t("tr",null,[e[6]||(e[6]=t("th",null,"姓名",-1)),t("td",null,o(s.orderList.user.name),1)]),t("tr",null,[e[7]||(e[7]=t("th",null,"收件人電話",-1)),t("td",null,o(s.orderList.user.tel),1)]),t("tr",null,[e[8]||(e[8]=t("th",null,"收件人地址",-1)),t("td",null,o(s.orderList.user.address),1)]),t("tr",null,[e[9]||(e[9]=t("th",null,"付款狀態",-1)),t("td",null,[s.orderList.is_paid?(l(),n("span",C,"付款完成")):(l(),n("span",w,"尚未付款"))])])])]),t("div",B,[s.orderList.is_paid?p("",!0):(l(),n("button",{key:0,class:"btn btn-danger",onClick:e[0]||(e[0]=a((...r)=>i.payOrder&&i.payOrder(...r),["prevent"]))}," 確認付款去 ")),s.orderList.is_paid?(l(),n("button",{key:1,class:"btn btn-danger",onClick:e[1]||(e[1]=a((...r)=>i.goProduct&&i.goProduct(...r),["prevent"]))}," 再看看其他東西! ")):p("",!0)])])])])}const V=y(m,[["render",P],["__scopeId","data-v-165f4d1f"]]);export{V as default};
