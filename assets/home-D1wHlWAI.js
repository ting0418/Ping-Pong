import{_ as y,a as k,c as a,b as n,d as t,w as d,F as p,r as _,e as P,v as j,f as x,o,g as c,t as v,n as C}from"./index-CJBskrnw.js";import{S as h}from"./sweetalert2.esm.all-D3pEHXw3.js";import{S}from"./swiper-bundle-BFNXhAkM.js";const F="/Ping-Pong/image/2.webp",N={data(){return{isLoading:!1,email:"",status:{LoadingItem:""},allProducts:[],categories:[{title:"球拍",image:"image/fzd.jpg"},{title:"球皮",image:"image/05.jpg"},{title:"球鞋",image:"image/shoe.jpeg"},{title:"配件",image:"image/head band.jpg"}],reviews:[{name:"歐文",comment:"在這邊購買過球拍，體驗很好，價格也很實惠",image:"image/user1.jpg"},{name:"Jason",comment:"老闆介紹得非常清楚，對於新手也難準確提供建議",image:"image/user2.jpg"},{name:"威廉",comment:"cp值很高，推薦大家來買",image:"image/user3.jpg"},{name:"Mike",comment:"店內用品齊全，推薦大家來這邊逛逛",image:"image/user4.jpg"}]}},methods:{async fetchProducts(){try{this.isLoading=!0;const e=await k.get("https://vue3-course-api.hexschool.io/api/tingg-api/products/all"),u=JSON.parse(localStorage.getItem("favorites"))||[];this.allProducts=e.data.products.map(f=>({...f,isFavorite:u.includes(f.id)})),this.isLoading=!1}catch(i){console.error("無法獲取產品資料",i)}},goProduct(){this.$router.push("/user/product")},goProductDetail(i){this.$router.push(`/user/product/${i}`)},toggleFavorite(i){i.isFavorite=!i.isFavorite,console.log(i.id);const e=JSON.parse(localStorage.getItem("favorites"))||[];if(i.isFavorite)e.push(i.id);else{const u=e.indexOf(i.id);u!==-1&&e.splice(u,1)}localStorage.setItem("favorites",JSON.stringify(e))},getCoupon(){if(!this.email){h.fire({title:"錯誤",text:"請輸入電子郵件信箱",icon:"error"});return}if(!this.validateEmail(this.email)){h.fire({title:"錯誤",text:"請輸入有效的電子郵件",icon:"error"});return}h.fire({title:"謝謝您!",text:"您的新客優惠碼為newcustomer",icon:"success"})},validateEmail(i){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)}},computed:{displayedProducts(){return this.allProducts.slice().sort(()=>.5-Math.random()).slice(0,6)}},mounted(){this.fetchProducts(),new S(".swiper",{speed:400,spaceBetween:5,grabCursor:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},breakpoints:{1600:{slidesPerView:4},1200:{slidesPerView:3},768:{slidesPerView:2},390:{slidesPerView:1}}})}},L={class:"px-5 navbar navbar-expand-lg navbar-light nav-bg"},V={class:"container-fluid"},I={class:"collapse navbar-collapse",id:"navbarNav"},E={class:"navbar-nav ms-auto"},D={class:"nav-item"},O={class:"nav-item"},$={class:"nav-item"},B={class:"nav-item"},J={class:"nav-item"},T={class:"container container-md-fluid position-relative mt-5"},M={class:"my-5"},U={class:"row justify-content-center justify-content-md-between"},z=["onClick"],q=["src"],A={class:"fw-bold text-center my-3"},G={class:"my-5"},H={class:"swiper"},K={class:"swiper-wrapper"},Q={class:"card",style:{width:"18rem"}},R=["onClick"],W=["onClick"],X=["src","alt"],Y={class:"card-body"},Z={class:"card-title text-center"},tt={class:"d-flex align-items-center justify-content-between"},et={class:"card-text text-danger"},st=["onClick"],it={class:"my-5"},at={class:"row"},nt={class:"d-flex border rounded-pill bg-white"},ot=["src"],lt={class:"px-3"},rt={class:"fw-bold"},dt={class:"bg-light p-5 mt-5"},ct={class:"container"},ut={class:"d-flex flex-column flex-md-row justify-content-between align-items-md-center align-items-start"},mt={class:"input-group w-md-50 mt-md-0 mt-3"};function gt(i,e,u,f,m,l){const w=x("Loading"),r=x("router-link");return o(),a(p,null,[n(w,{active:m.isLoading},null,8,["active"]),t("nav",L,[t("div",V,[n(r,{class:"navbar-brand text-decoration-none animate__backInUp animate__animated","aria-current":"page",to:"/"},{default:d(()=>e[2]||(e[2]=[c("Ping Pong")])),_:1}),e[8]||(e[8]=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1)),t("div",I,[t("ul",E,[t("li",D,[n(r,{class:"nav-link text-white d-flex justify-content-center","aria-current":"page",to:"/"},{default:d(()=>e[3]||(e[3]=[c("首頁")])),_:1})]),t("li",O,[n(r,{class:"nav-link text-white d-flex justify-content-center","aria-current":"page",to:"/user/cart"},{default:d(()=>e[4]||(e[4]=[c("購物車")])),_:1})]),t("li",$,[n(r,{class:"nav-link text-white d-flex justify-content-center",to:"/user/product"},{default:d(()=>e[5]||(e[5]=[c("商品頁面")])),_:1})]),t("li",B,[n(r,{class:"nav-link text-white d-flex justify-content-center","aria-current":"page",to:"/user/myFavorite"},{default:d(()=>e[6]||(e[6]=[c("我的最愛")])),_:1})]),t("li",J,[n(r,{class:"nav-link text-white d-flex justify-content-center",to:"/user/about"},{default:d(()=>e[7]||(e[7]=[c("關於我們")])),_:1})])])])])]),e[18]||(e[18]=t("div",{style:{position:"relative"}},[t("img",{src:F,alt:"",class:"img-fluid",style:{width:"100%",height:"auto"}})],-1)),t("div",T,[t("div",M,[e[9]||(e[9]=t("h3",{class:"fw-bold text-center"},"商品介紹",-1)),t("div",U,[(o(!0),a(p,null,_(m.categories,(s,g)=>(o(),a("div",{key:g,class:"card col-8 col-md-3 mb-4"},[t("button",{class:"btn",onClick:b=>l.goProduct(s.title)},[t("img",{src:s.image,alt:"",class:"img-fluid"},null,8,q)],8,z),t("h4",A,v(s.title),1)]))),128))])]),e[15]||(e[15]=t("hr",null,null,-1)),t("div",G,[e[13]||(e[13]=t("h3",{class:"fw-bold text-center"},"精選商品",-1)),t("div",H,[t("div",K,[(o(!0),a(p,null,_(l.displayedProducts,(s,g)=>(o(),a("div",{class:"swiper-slide",key:g},[t("div",Q,[t("i",{class:C(s.isFavorite?"bi bi-suit-heart-fill text-danger favorite-btn":"bi bi-suit-heart favorite-btn"),onClick:b=>l.toggleFavorite(s)},null,10,R),t("button",{class:"btn",onClick:b=>l.goProductDetail(s.id)},[t("img",{src:s.imageUrl,alt:s.title,class:"card-img-top"},null,8,X)],8,W),t("div",Y,[t("h5",Z,v(s.title),1),t("div",tt,[t("h5",et,"$NT"+v(s.price),1),t("button",{class:"btn bg-secondary",onClick:b=>l.goProductDetail(s.id)}," 查看商品 ",8,st)])])])]))),128))]),e[10]||(e[10]=t("div",{class:"swiper-pagination"},null,-1)),e[11]||(e[11]=t("div",{class:"swiper-button-next"},null,-1)),e[12]||(e[12]=t("div",{class:"swiper-button-prev"},null,-1))])]),e[16]||(e[16]=t("hr",null,null,-1)),t("div",it,[e[14]||(e[14]=t("h3",{class:"fw-bold text-center"},"顧客怎麼說",-1)),t("div",at,[(o(!0),a(p,null,_(m.reviews,(s,g)=>(o(),a("div",{key:g,class:"col-12 col-md-6 col-xl-3 py-2"},[t("div",nt,[t("div",null,[t("img",{src:s.image,class:"rounded-circle",style:{"object-fit":"cover","max-width":"200px","max-height":"200px"},alt:""},null,8,ot)]),t("div",lt,[t("p",rt,v(s.name),1),t("p",null,v(s.comment),1)])])]))),128))])])]),t("div",dt,[t("div",ct,[t("div",ut,[e[17]||(e[17]=t("p",{class:"mb-0 me-2 fw-bold"},"立即訂閱就可以領取新客8折優惠!",-1)),t("div",mt,[P(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>m.email=s),type:"email",class:"form-control",placeholder:"請輸入您的Email"},null,512),[[j,m.email]]),t("button",{onClick:e[1]||(e[1]=s=>l.getCoupon()),class:"btn btn-dark"},"訂閱")])])])])],64)}const bt=y(N,[["render",gt],["__scopeId","data-v-bb00d420"]]);export{bt as default};
