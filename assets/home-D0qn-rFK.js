import{_ as y,a as k,e as P,c as a,b as o,d as t,w as d,F as p,r as _,f as j,v as C,g as x,o as n,h as c,t as v,n as S}from"./index-Bw4PRYnB.js";import{S as h}from"./sweetalert2.esm.all-D3pEHXw3.js";import{S as F}from"./swiper-bundle-BFNXhAkM.js";const N="/Ping-Pong/image/2.webp",L={data(){return{isLoading:!1,email:"",status:{LoadingItem:""},allProducts:[],categories:[{title:"球拍",image:"image/fzd.jpg"},{title:"球皮",image:"image/05.jpg"},{title:"球鞋",image:"image/shoe.jpeg"},{title:"配件",image:"image/head band.jpg"}],reviews:[{name:"歐文",comment:"在這邊購買過球拍，體驗很好，價格也很實惠",image:"image/user1.jpg"},{name:"Jason",comment:"老闆介紹得非常清楚，對於新手也難準確提供建議",image:"image/user2.jpg"},{name:"威廉",comment:"cp值很高，推薦大家來買",image:"image/user3.jpg"},{name:"Mike",comment:"店內用品齊全，推薦大家來這邊逛逛",image:"image/user4.jpg"}]}},methods:{async fetchProducts(){try{this.isLoading=!0;const e=await k.get("https://vue3-course-api.hexschool.io/api/tingg-api/products/all"),u=JSON.parse(localStorage.getItem("favorites"))||[];this.allProducts=e.data.products.map(f=>({...f,isFavorite:u.includes(f.id)})),this.isLoading=!1}catch(i){console.error("無法獲取產品資料",i)}},goProduct(i){P.emit("updateCategory",i),this.$router.push("/user/product")},goProductDetail(i){this.$router.push(`/user/product/${i}`)},toggleFavorite(i){i.isFavorite=!i.isFavorite,console.log(i.id);const e=JSON.parse(localStorage.getItem("favorites"))||[];if(i.isFavorite)e.push(i.id);else{const u=e.indexOf(i.id);u!==-1&&e.splice(u,1)}localStorage.setItem("favorites",JSON.stringify(e))},getCoupon(){if(!this.email){h.fire({title:"錯誤",text:"請輸入電子郵件信箱",icon:"error"});return}if(!this.validateEmail(this.email)){h.fire({title:"錯誤",text:"請輸入有效的電子郵件",icon:"error"});return}h.fire({title:"謝謝您!",text:"您的新客優惠碼為newcustomer",icon:"success"})},validateEmail(i){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)}},computed:{displayedProducts(){return this.allProducts.slice().sort(()=>.5-Math.random()).slice(0,6)}},mounted(){this.fetchProducts(),new F(".swiper",{speed:400,spaceBetween:5,grabCursor:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},breakpoints:{1600:{slidesPerView:4},1200:{slidesPerView:3},768:{slidesPerView:2},390:{slidesPerView:1}}})}},V={class:"px-5 navbar navbar-expand-lg navbar-light nav-bg"},I={class:"container-fluid"},E={class:"collapse navbar-collapse",id:"navbarNav"},D={class:"navbar-nav ms-auto"},O={class:"nav-item"},$={class:"nav-item"},B={class:"nav-item"},J={class:"nav-item"},T={class:"nav-item"},M={class:"container container-md-fluid position-relative mt-5"},U={class:"my-5"},z={class:"row justify-content-center justify-content-md-between"},q=["onClick"],A=["src"],G={class:"fw-bold text-center my-3"},H={class:"my-5"},K={class:"swiper"},Q={class:"swiper-wrapper"},R={class:"card",style:{width:"18rem"}},W=["onClick"],X=["onClick"],Y=["src","alt"],Z={class:"card-body"},tt={class:"card-title text-center"},et={class:"d-flex align-items-center justify-content-between"},st={class:"card-text text-danger"},it=["onClick"],at={class:"my-5"},ot={class:"row"},nt={class:"d-flex border rounded-pill bg-white"},lt=["src"],rt={class:"px-3"},dt={class:"fw-bold"},ct={class:"bg-light p-5 mt-5"},ut={class:"container"},mt={class:"d-flex flex-column flex-md-row justify-content-between align-items-md-center align-items-start"},gt={class:"input-group w-md-50 mt-md-0 mt-3"};function vt(i,e,u,f,m,l){const w=x("Loading"),r=x("router-link");return n(),a(p,null,[o(w,{active:m.isLoading,loader:"bars",color:"#e9e9d7"},null,8,["active"]),t("nav",V,[t("div",I,[o(r,{class:"navbar-brand text-decoration-none animate__backInUp animate__animated","aria-current":"page",to:"/"},{default:d(()=>e[2]||(e[2]=[c("Ping Pong")])),_:1}),e[8]||(e[8]=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1)),t("div",E,[t("ul",D,[t("li",O,[o(r,{class:"nav-link text-white d-flex justify-content-center","aria-current":"page",to:"/"},{default:d(()=>e[3]||(e[3]=[c("首頁")])),_:1})]),t("li",$,[o(r,{class:"nav-link text-white d-flex justify-content-center","aria-current":"page",to:"/user/cart"},{default:d(()=>e[4]||(e[4]=[c("購物車")])),_:1})]),t("li",B,[o(r,{class:"nav-link text-white d-flex justify-content-center",to:"/user/product"},{default:d(()=>e[5]||(e[5]=[c("商品頁面")])),_:1})]),t("li",J,[o(r,{class:"nav-link text-white d-flex justify-content-center","aria-current":"page",to:"/user/myFavorite"},{default:d(()=>e[6]||(e[6]=[c("我的最愛")])),_:1})]),t("li",T,[o(r,{class:"nav-link text-white d-flex justify-content-center",to:"/user/about"},{default:d(()=>e[7]||(e[7]=[c("關於我們")])),_:1})])])])])]),e[18]||(e[18]=t("div",{style:{position:"relative"}},[t("img",{src:N,alt:"",class:"img-fluid",style:{width:"100%",height:"auto"}})],-1)),t("div",M,[t("div",U,[e[9]||(e[9]=t("h3",{class:"fw-bold text-center"},"商品介紹",-1)),t("div",z,[(n(!0),a(p,null,_(m.categories,(s,g)=>(n(),a("div",{key:g,class:"card col-8 col-md-3 mb-4"},[t("button",{class:"btn",onClick:b=>l.goProduct(s.title)},[t("img",{src:s.image,alt:"",class:"img-fluid"},null,8,A)],8,q),t("h4",G,v(s.title),1)]))),128))])]),e[15]||(e[15]=t("hr",null,null,-1)),t("div",H,[e[13]||(e[13]=t("h3",{class:"fw-bold text-center"},"精選商品",-1)),t("div",K,[t("div",Q,[(n(!0),a(p,null,_(l.displayedProducts,(s,g)=>(n(),a("div",{class:"swiper-slide",key:g},[t("div",R,[t("i",{class:S(s.isFavorite?"bi bi-suit-heart-fill text-danger favorite-btn":"bi bi-suit-heart favorite-btn"),onClick:b=>l.toggleFavorite(s)},null,10,W),t("button",{class:"btn",onClick:b=>l.goProductDetail(s.id)},[t("img",{src:s.imageUrl,alt:s.title,class:"card-img-top"},null,8,Y)],8,X),t("div",Z,[t("h5",tt,v(s.title),1),t("div",et,[t("h5",st,"$NT"+v(s.price),1),t("button",{class:"btn bg-secondary",onClick:b=>l.goProductDetail(s.id)}," 查看商品 ",8,it)])])])]))),128))]),e[10]||(e[10]=t("div",{class:"swiper-pagination"},null,-1)),e[11]||(e[11]=t("div",{class:"swiper-button-next"},null,-1)),e[12]||(e[12]=t("div",{class:"swiper-button-prev"},null,-1))])]),e[16]||(e[16]=t("hr",null,null,-1)),t("div",at,[e[14]||(e[14]=t("h3",{class:"fw-bold text-center"},"顧客怎麼說",-1)),t("div",ot,[(n(!0),a(p,null,_(m.reviews,(s,g)=>(n(),a("div",{key:g,class:"col-12 col-md-6 col-xl-3 py-2"},[t("div",nt,[t("div",null,[t("img",{src:s.image,class:"rounded-circle",style:{"object-fit":"cover","max-width":"200px","max-height":"200px"},alt:""},null,8,lt)]),t("div",rt,[t("p",dt,v(s.name),1),t("p",null,v(s.comment),1)])])]))),128))])])]),t("div",ct,[t("div",ut,[t("div",mt,[e[17]||(e[17]=t("p",{class:"mb-0 me-2 fw-bold"},"立即訂閱就可以領取新客8折優惠!",-1)),t("div",gt,[j(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>m.email=s),type:"email",class:"form-control",placeholder:"請輸入您的Email"},null,512),[[C,m.email]]),t("button",{onClick:e[1]||(e[1]=s=>l.getCoupon()),class:"btn btn-dark"},"訂閱")])])])])],64)}const _t=y(L,[["render",vt],["__scopeId","data-v-e7d86c34"]]);export{_t as default};
